<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DataTools &mdash; GeneralTools for Scientists - Documentation 1.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=f2a433a1"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="HandyTools" href="handytools.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            GeneralTools for Scientists - Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="handytools.html">HandyTools</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">DataTools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#DataTools.DataTools.getSegmentSpecsFromDataValues"><code class="docutils literal notranslate"><span class="pre">DataTools.getSegmentSpecsFromDataValues()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#DataTools.DataTools.passAverageFilter"><code class="docutils literal notranslate"><span class="pre">DataTools.passAverageFilter()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#DataTools.DataTools.passMedianFilter"><code class="docutils literal notranslate"><span class="pre">DataTools.passMedianFilter()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#DataTools.DataTools.passButterworthNotchFilter"><code class="docutils literal notranslate"><span class="pre">DataTools.passButterworthNotchFilter()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#DataTools.DataTools.passButterworthBandPassOrStopFilter"><code class="docutils literal notranslate"><span class="pre">DataTools.passButterworthBandPassOrStopFilter()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#DataTools.DataTools.linearLeastSquare"><code class="docutils literal notranslate"><span class="pre">DataTools.linearLeastSquare()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#DataTools.DataTools.QQPlot"><code class="docutils literal notranslate"><span class="pre">DataTools.QQPlot()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#DataTools.DataTools.getCumulativeNormalDistribution"><code class="docutils literal notranslate"><span class="pre">DataTools.getCumulativeNormalDistribution()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#DataTools.DataTools.getNormalDistribution"><code class="docutils literal notranslate"><span class="pre">DataTools.getNormalDistribution()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#DataTools.DataTools.getNormalDistributionValue"><code class="docutils literal notranslate"><span class="pre">DataTools.getNormalDistributionValue()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#DataTools.DataTools.getAverageVarAndSDPYtoCPP"><code class="docutils literal notranslate"><span class="pre">DataTools.getAverageVarAndSDPYtoCPP()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#DataTools.DataTools.getMedianAndQuantilesPYtoCPP"><code class="docutils literal notranslate"><span class="pre">DataTools.getMedianAndQuantilesPYtoCPP()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#DataTools.DataTools.getNanFreeNumpyArray"><code class="docutils literal notranslate"><span class="pre">DataTools.getNanFreeNumpyArray()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#DataTools.DataTools.getDataValuesWithGaussianNoise"><code class="docutils literal notranslate"><span class="pre">DataTools.getDataValuesWithGaussianNoise()</span></code></a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GeneralTools for Scientists - Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">DataTools</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/datatools.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="datatools">
<span id="datatoolssection"></span><h1>DataTools<a class="headerlink" href="#datatools" title="Link to this heading"></a></h1>
<div class="line-block">
<div class="line"><a class="reference internal" href="#DataTools.DataTools.getSegmentSpecsFromDataValues" title="DataTools.DataTools.getSegmentSpecsFromDataValues"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getSegmentSpecsFromDataValues()</span></code></a></div>
<div class="line"><a class="reference internal" href="#DataTools.DataTools.passAverageFilter" title="DataTools.DataTools.passAverageFilter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">passAverageFilter()</span></code></a></div>
<div class="line"><a class="reference internal" href="#DataTools.DataTools.passMedianFilter" title="DataTools.DataTools.passMedianFilter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">passMedianFilter()</span></code></a></div>
<div class="line"><a class="reference internal" href="#DataTools.DataTools.passButterworthNotchFilter" title="DataTools.DataTools.passButterworthNotchFilter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">passButterworthNotchFilter()</span></code></a></div>
<div class="line"><a class="reference internal" href="#DataTools.DataTools.passButterworthBandPassOrStopFilter" title="DataTools.DataTools.passButterworthBandPassOrStopFilter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">passButterworthBandPassOrStopFilter()</span></code></a></div>
<div class="line"><a class="reference internal" href="#DataTools.DataTools.linearLeastSquare" title="DataTools.DataTools.linearLeastSquare"><code class="xref py py-meth docutils literal notranslate"><span class="pre">linearLeastSquare()</span></code></a></div>
<div class="line"><a class="reference internal" href="#DataTools.DataTools.QQPlot" title="DataTools.DataTools.QQPlot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">QQPlot()</span></code></a></div>
<div class="line"><a class="reference internal" href="#DataTools.DataTools.getCumulativeNormalDistribution" title="DataTools.DataTools.getCumulativeNormalDistribution"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getCumulativeNormalDistribution()</span></code></a></div>
<div class="line"><a class="reference internal" href="#DataTools.DataTools.getNormalDistribution" title="DataTools.DataTools.getNormalDistribution"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getNormalDistribution()</span></code></a></div>
<div class="line"><a class="reference internal" href="#DataTools.DataTools.getNormalDistributionValue" title="DataTools.DataTools.getNormalDistributionValue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getNormalDistributionValue()</span></code></a></div>
<div class="line"><a class="reference internal" href="#DataTools.DataTools.getAverageVarAndSDPYtoCPP" title="DataTools.DataTools.getAverageVarAndSDPYtoCPP"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getAverageVarAndSDPYtoCPP()</span></code></a></div>
<div class="line"><a class="reference internal" href="#DataTools.DataTools.getMedianAndQuantilesPYtoCPP" title="DataTools.DataTools.getMedianAndQuantilesPYtoCPP"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getMedianAndQuantilesPYtoCPP()</span></code></a></div>
<div class="line"><a class="reference internal" href="#DataTools.DataTools.getNanFreeNumpyArray" title="DataTools.DataTools.getNanFreeNumpyArray"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getNanFreeNumpyArray()</span></code></a></div>
<div class="line"><a class="reference internal" href="#DataTools.DataTools.getDataValuesWithGaussianNoise" title="DataTools.DataTools.getDataValuesWithGaussianNoise"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getDataValuesWithGaussianNoise()</span></code></a></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="DataTools.DataTools.getSegmentSpecsFromDataValues">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">DataTools.</span></span><span class="sig-name descname"><span class="pre">getSegmentSpecsFromDataValues</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataValues</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">PYtoCPP</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#DataTools.DataTools.getSegmentSpecsFromDataValues" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataValues</strong> (<em>list</em>) – list (one dimension) of data values. The values in the <code class="docutils literal notranslate"><span class="pre">dataValues</span></code> list are converted to int16 type (for now).</p></li>
<li><p><strong>PYtoCPP</strong> (<em>boolean; default = True</em>) – at the time of writing, the user can still chose to use Python to analyse the <code class="docutils literal notranslate"><span class="pre">dataValues</span></code> by setting <code class="docutils literal notranslate"><span class="pre">PYtoCPP</span></code> to <code class="docutils literal notranslate"><span class="pre">False</span></code>. The result is less comprehensive and the runtime significantly longer.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>all the characteristics of the segments comprised by the list of <code class="docutils literal notranslate"><span class="pre">dataValues</span></code> (see <strong>Description</strong> below) when <code class="docutils literal notranslate"><span class="pre">PYtoCPP</span> <span class="pre">=</span> <span class="pre">True</span></code>, or list of amplitudes and start indices when <code class="docutils literal notranslate"><span class="pre">PYtoCPP</span> <span class="pre">=</span> <span class="pre">False</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple when <code class="docutils literal notranslate"><span class="pre">PYtoCPP</span> <span class="pre">=</span> <span class="pre">True</span></code> or two lists, first list [same type as <code class="docutils literal notranslate"><span class="pre">dataValues</span></code>] and second list [int]</p>
</dd>
</dl>
<p><strong>Description:</strong>
With this function a list of (wiggling) data values is analysed to determine all the specifications in terms of its segments. A segment in a wiggling data values line is a section of the line from a local minimum to the next local maximum or a local maximum to the next local minimum. The specifications are returned in terms of a tuple of NumPy arrays and numbers:</p>
<blockquote>
<div><div class="line-block">
<div class="line">[0]  numberOfSegments</div>
<div class="line">[1]  segmentStartIndices - the start indices of each segment (the local minima and maxima).</div>
<div class="line">[2]  segmentAmplitudes - the corresponding amplitudes between local extremes in units of ADU.</div>
<div class="line">[3]  segmentSlopes - the corresponding slopes in units of ADU / time sample.</div>
<div class="line">[4]  segmentDurations - the number of time samples between local extremes.</div>
<div class="line">[5]  numberOfSegmentsNegative - subsection of the list above with only the segments from local maxima to the next local minima.</div>
<div class="line">[6]  segmentStartIndicesNegative [0:numberOfSegmentsNegative]</div>
<div class="line">[7]  iSteepestNegativeSlopeSegment</div>
<div class="line">[8]  iSegmentStartIndicesSteepestNegativeSlope</div>
<div class="line">[9]  numberOfSegmentsPositive - subsection of the list above with only the segments from local minima to the next local maxima.</div>
<div class="line">[10] segmentStartIndicesPositive [0:numberOfSegmentsPositive]</div>
<div class="line">[11] iSteepestPositiveSlopeSegment</div>
<div class="line">[12] iSegmentStartIndicesSteepestPositiveSlope</div>
</div>
</div></blockquote>
<p>When calling this function with <code class="code docutils literal notranslate"><span class="pre">PYtoCPP</span> <span class="pre">=</span> <span class="pre">False</span></code>, only list of segment amplitudes and segment start indices is being returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="DataTools.DataTools.passAverageFilter">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">DataTools.</span></span><span class="sig-name descname"><span class="pre">passAverageFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataValues</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">windowWidth</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#DataTools.DataTools.passAverageFilter" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataValues</strong> (<em>list</em>) – list (one dimension) of data values that represent the signal to be filtered.</p></li>
<li><p><strong>windowWidth</strong> (<em>int</em>) – width of the window: number of values in the averaging window including the central value. This is always an uneven number.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>signal <code class="docutils literal notranslate"><span class="pre">dataValues</span></code> filtered with a running average.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<p><strong>Description:</strong>
Use this function to perform a running average filtering of a list (one dimension) of data values. The total number of point in the averaging window is <code class="code docutils literal notranslate"><span class="pre">2</span> <span class="pre">*</span> <span class="pre">windowWidth</span> <span class="pre">+</span> <span class="pre">1</span></code>. At the beginning and the end of the list, filtering is done with the available data values. For example, the result for the first data value is the average of the first data value and the <code class="code docutils literal notranslate"><span class="pre">width</span></code> data values to the right.</p>
<p>The noise level of the filtered set can be easily calculated from the noise level of the original data values, by dividing by the square root of the total number of data values in the averaging window.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="DataTools.DataTools.passMedianFilter">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">DataTools.</span></span><span class="sig-name descname"><span class="pre">passMedianFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataValues</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">windowWidth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#DataTools.DataTools.passMedianFilter" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataValues</strong> (<em>list</em>) – list (one dimension) of data values that represent the signal to be filtered.</p></li>
<li><p><strong>windowWidth</strong> (<em>int</em>) – width of the window: number of values in the averaging window including the central value. This is always an uneven number.</p></li>
</ul>
</dd>
</dl>
<p><strong>Description:</strong>
Pass a given input signal through a median filter, using signal.medfilt method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="DataTools.DataTools.passButterworthNotchFilter">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">DataTools.</span></span><span class="sig-name descname"><span class="pre">passButterworthNotchFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputSignal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bNotch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aNotch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">applyFilter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samplingFrequency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notchFrequency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qualityFactor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">getFilterSettings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#DataTools.DataTools.passButterworthNotchFilter" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputSignal</strong> (<em>list</em>) – list (one dimension) of data values that represent the signal to be filtered.</p></li>
<li><p><strong>bNotch</strong> (<em>float</em>) – filter parameters.</p></li>
<li><p><strong>aNotch</strong> (<em>float</em>) – filter parameters.</p></li>
<li><p><strong>applyFilter</strong> (<em>bool</em>) – True if the filter needs to be applied to the signal.</p></li>
<li><p><strong>samplingFrequency</strong> (<em>float</em>) – the sampling frequency of the data in Hz.</p></li>
<li><p><strong>notchFrequency</strong> (<em>float</em>) – the notch frequency in Hz, default is 50Hz.</p></li>
<li><p><strong>qualityFactor</strong> (<em>float</em>) – a quality factor, default is 2.</p></li>
<li><p><strong>getFilterSettings</strong> (<em>bool</em>) – True (default) if the filter settings are to be calculated.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If getFilterSettings = True and applyFilter = True, then return outputSignal, bNotch, aNotch, filterFrequency, amplitudedB. If getFilterSettings = True and applyFilter = False, then return bNotch, aNotch, filterFrequency, amplitudedB. If getFilterSettings = False and applyFilter = True, then return outputSignal.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list, NumPy array, NumPy array, NumPy array, NumPy array</p>
</dd>
</dl>
<p><strong>Description:</strong>
Pass a given input signal through a notch filter. 
The <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.signal.iirnotch.html">scipy.signal.iirnotch</a> method 
is used to calculate the filter parameters <code class="code docutils literal notranslate"><span class="pre">bNotch</span></code> and <code class="code docutils literal notranslate"><span class="pre">aNotch</span></code>,
followed by the <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.signal.filtfilt.html">signal.filtfilt</a> method 
to apply the filter to the data.</p>
<p>To use this filter, two steps are involved.
The first step is to calculate the filter parameters:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">dataSampleFrequency</span> <span class="o">=</span> <span class="mi">200</span> <span class="c1">#Hz</span>
<span class="n">notchFrequency</span> <span class="o">=</span> <span class="mi">50</span> <span class="c1">#Hz</span>
<span class="n">filterParameters</span> <span class="o">=</span> <span class="n">DataTools</span><span class="o">.</span><span class="n">passButterworthBandPassOrStopFilter</span> <span class="p">(</span> <span class="n">applyFilter</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                                                                   <span class="n">samplingFrequency</span> <span class="o">=</span> <span class="n">dataSampleFrequency</span><span class="p">,</span>
                                                                   <span class="n">notchFrequency</span> <span class="o">=</span> <span class="n">notchFrequency</span><span class="p">,</span>
                                                                   <span class="n">qualityFactor</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
                                                                   <span class="n">getFilterSettings</span> <span class="o">=</span> <span class="kc">True</span> <span class="p">)</span>
</pre></div>
</div>
<p>This only needs to be done once for given settings. After that, the filter can be applied to the data:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">someData</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">data</span> <span class="n">values</span><span class="p">]</span>
<span class="n">someDataFiltered</span> <span class="o">=</span> <span class="n">DataTools</span><span class="o">.</span><span class="n">passButterworthNotchFilter</span> <span class="p">(</span> <span class="n">inputSignal</span> <span class="o">=</span> <span class="n">someData</span><span class="p">,</span> 
                                                          <span class="n">bNotch</span> <span class="o">=</span> <span class="n">filterParameters</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                                          <span class="n">aNotch</span> <span class="o">=</span> <span class="n">filterParameters</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                                                          <span class="n">getFilterSettings</span> <span class="o">=</span> <span class="kc">False</span> <span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="DataTools.DataTools.passButterworthBandPassOrStopFilter">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">DataTools.</span></span><span class="sig-name descname"><span class="pre">passButterworthBandPassOrStopFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputSignal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secondfilterOrderSections</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">applyFilter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samplingFrequency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filterType</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lowpass'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filterOrder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoffFrequency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">getFilterSettings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#DataTools.DataTools.passButterworthBandPassOrStopFilter" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputSignal</strong> (<em>list</em>) – list (one dimension) of data values that represent the signal to be filtered.</p></li>
<li><p><strong>secondfilterOrderSections</strong> – SOS or Second-Order Sections.</p></li>
<li><p><strong>applyFilter</strong> (<em>bool</em>) – True if the filter needs to be applied to the signal.</p></li>
<li><p><strong>samplingFrequency</strong> (<em>float</em>) – the sampling frequency of the data in Hz.</p></li>
<li><p><strong>filterType</strong> (<em>str</em>) – ‘lowpass’, ‘highpass’ or ‘bandstop’, default is ‘lowpass’</p></li>
<li><p><strong>filterOrder</strong> (<em>float</em>) – quality factor, default is 10.</p></li>
<li><p><strong>cutoffFrequency</strong> (<em>float</em><em> or </em><em>list</em><em> [</em><em>float</em><em>, </em><em>float</em><em>]</em>) – filter cutoff frequency, one number for low and high pass filters, a list of two numbers for band stop filter.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If getFilterSettings = True and applyFilter = True, then return outputSignal, secondfilterOrderSections. If getFilterSettings = True and applyFilter = False, then return secondfilterOrderSections. If getFilterSettings = False and applyFilter = True, then return outputSignal.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list, NumPy array, NumPy array</p>
</dd>
</dl>
<p><strong>Description:</strong>
Pass a given input signal through a <strong>Butterworth band pass</strong> (low pass or high pass) or a <strong>Butterworth band stop</strong> filter, 
using the <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.signal.butter.html">signal.butter</a> and 
<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.signal.sosfilt.html">signal.sosfilt</a> methods. 
It is recommended to use <em>SOS</em> (= <em>Second-Order Sections</em>).</p>
<p>To use this filter, two steps are involved.
The first step is to calculate the filter parameters.
For a bandpass filter this could look like:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">dataSampleFrequency</span> <span class="o">=</span> <span class="mi">200</span> <span class="c1">#Hz</span>
<span class="n">cutoffFrequency</span> <span class="o">=</span> <span class="mi">100</span> <span class="c1">#Hz</span>
<span class="n">filterParameters</span> <span class="o">=</span> <span class="n">DataTools</span><span class="o">.</span><span class="n">passButterworthBandPassOrStopFilter</span> <span class="p">(</span> <span class="n">applyFilter</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                                                                   <span class="n">samplingFrequency</span> <span class="o">=</span> <span class="n">dataSampleFrequency</span><span class="p">,</span>
                                                                   <span class="n">filterType</span> <span class="o">=</span> <span class="s1">&#39;lowpass&#39;</span><span class="p">,</span>
                                                                   <span class="n">filterOrder</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
                                                                   <span class="n">cutoffFrequency</span> <span class="o">=</span> <span class="n">cutoffFrequency</span><span class="p">,</span>
                                                                   <span class="n">getFilterSettings</span> <span class="o">=</span> <span class="kc">True</span> <span class="p">)</span>
</pre></div>
</div>
<p>For a bandstop filter this could look like:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">dataSampleFrequency</span> <span class="o">=</span> <span class="mi">200</span> <span class="c1">#Hz</span>
<span class="n">cutoffFrequency</span> <span class="o">=</span> <span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">60</span><span class="p">]</span> <span class="c1">#Hz</span>
<span class="n">filterParameters</span> <span class="o">=</span> <span class="n">DataTools</span><span class="o">.</span><span class="n">passButterworthBandPassOrStopFilter</span> <span class="p">(</span> <span class="n">applyFilter</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                                                                   <span class="n">samplingFrequency</span> <span class="o">=</span> <span class="n">dataSampleFrequency</span><span class="p">,</span>
                                                                   <span class="n">filterType</span> <span class="o">=</span> <span class="s1">&#39;lowpass&#39;</span><span class="p">,</span>
                                                                   <span class="n">filterOrder</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
                                                                   <span class="n">cutoffFrequency</span> <span class="o">=</span> <span class="n">cutoffFrequency</span><span class="p">,</span>
                                                                   <span class="n">getFilterSettings</span> <span class="o">=</span> <span class="kc">True</span> <span class="p">)</span>
</pre></div>
</div>
<p>The first step needs to be done once for given settings. After that, the filter can be applied to the data:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">someData</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">data</span> <span class="n">values</span><span class="p">]</span>
<span class="n">someDataFiltered</span> <span class="o">=</span> <span class="n">DataTools</span><span class="o">.</span><span class="n">passButterworthNotchFilter</span> <span class="p">(</span> <span class="n">inputSignal</span> <span class="o">=</span> <span class="n">someData</span><span class="p">,</span> 
                                                          <span class="n">secondfilterOrderSections</span> <span class="o">=</span> <span class="n">filterParameters</span><span class="p">,</span>
                                                          <span class="n">getFilterSettings</span> <span class="o">=</span> <span class="kc">False</span> <span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="DataTools.DataTools.linearLeastSquare">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">DataTools.</span></span><span class="sig-name descname"><span class="pre">linearLeastSquare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xInput</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yInput</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fractionBeyondXRange</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#DataTools.DataTools.linearLeastSquare" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xInput</strong> (<em>list</em><em> [</em><em>float</em><em>]</em>) – the x-values of the data to fit.</p></li>
<li><p><strong>yInput</strong> (<em>list</em><em> [</em><em>float</em><em>]</em>) – the y-values of the data to fit.</p></li>
<li><p><strong>weights</strong> (<em>list</em><em> [</em><em>float</em><em>]</em>) – the weights of the data to fit.</p></li>
<li><p><strong>fractionBeyondXRange</strong> (<em>float</em>) – the fraction of the xInput range beyond which to calculate the fitting line (default = 0.1).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a, b, uncertaintyA, uncertaintyB, rSquared, xValuesFitLine, yValuesFitLine</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float, float, float, float, float, NumPy array (2), NumPy array (2)</p>
</dd>
</dl>
<p><strong>Description:</strong>
Determine the values of the variables a and b for the linear least square solution y (x) =  ax + b, along with their uncertainties, for a set of data points described by the x- and y-values. An indication of the quality of the fit is given by the so-called <a class="reference external" href="https://en.wikipedia.org/wiki/Coefficient_of_determination">coefficient of determination</a> (r-squared), a value between 0 and 1, and is evaluated here. The closer r-square to 1, the better the fit.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="DataTools.DataTools.QQPlot">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">DataTools.</span></span><span class="sig-name descname"><span class="pre">QQPlot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xInput</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xlabelToPrint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'input</span> <span class="pre">values'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylabelToPrint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'z</span> <span class="pre">(sigma)'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">QQTitleToPrint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'DataTools</span> <span class="pre">version</span> <span class="pre">20240828:</span> <span class="pre">QQ-plot</span> <span class="pre">of</span> <span class="pre">input</span> <span class="pre">data'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">HistTitleToPrint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'DataTools</span> <span class="pre">version</span> <span class="pre">20240828:</span> <span class="pre">Histogram</span> <span class="pre">of</span> <span class="pre">input</span> <span class="pre">data'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plotTextAverageMedian</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savePlots</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plotBaseFileName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'QQPlot.png'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#DataTools.DataTools.QQPlot" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xInput</strong> (<em>list</em><em> [</em><em>float</em><em>]</em>) – the list of data points.</p></li>
<li><p><strong>xlabelToPrint</strong> (<em>str</em>) – the x-label to print on the QQ-plot.</p></li>
<li><p><strong>ylabelToPrint</strong> (<em>str</em>) – the x-label to print on the QQ-plot.</p></li>
<li><p><strong>QQTitleToPrint</strong> (<em>str</em>) – the title to print on the QQ-plot.</p></li>
<li><p><strong>HistTitleToPrint</strong> (<em>str</em>) – the title to print on the histogram.</p></li>
<li><p><strong>plotTextAverageMedian</strong> (<em>bool</em>) – if True then plot the values of the average, median and standar deviation in the plot.</p></li>
<li><p><strong>savePlots</strong> (<em>bool</em>) – if True then the plots will be saved to files, the default is .png format.</p></li>
<li><p><strong>plotBaseFileName</strong> (<em>str</em>) – file name of the plots. It can be given with or without file  type extension (.png, .jpg, .jpeg or .gif). Spaces in the file name are replaced with <code class="file docutils literal notranslate"><span class="pre">_</span></code>.</p></li>
</ul>
</dd>
</dl>
<p><strong>Description:</strong>
Calculate and plot the QQ-plot (or Quantile-Quantile plot), as well as the histogram, of a given list of data values.
If the user has opted to save the plots, then the plotBaseFileName is used to determine the file names of the plots.
The strings <code class="file docutils literal notranslate"><span class="pre">_QQPlot</span></code> and <code class="file docutils literal notranslate"><span class="pre">_Histogram</span></code> are automatically added at the end of the file name.
The default plot image file type is .png, if the user does not indicate any (.jpg, .jpeg or .gif).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="DataTools.DataTools.getCumulativeNormalDistribution">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">DataTools.</span></span><span class="sig-name descname"><span class="pre">getCumulativeNormalDistribution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#DataTools.DataTools.getCumulativeNormalDistribution" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mu</strong> (<em>list</em><em> [</em><em>float</em><em>]</em>) – the average values of the data values.</p></li>
<li><p><strong>sigma</strong> (<em>float.</em>) – the standard deviation of the data values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>x and</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list [float], list [float]</p>
</dd>
</dl>
<p><strong>Description:</strong>
Calculate the gaussian normal cumulative distribution curve N(mu,sigma) between -5 x sigma and +5 x sigma at stepsize 0.05 x sigma.
The results of the <a class="reference internal" href="#DataTools.DataTools.getNormalDistribution" title="DataTools.DataTools.getNormalDistribution"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getNormalDistribution()</span></code></a> function call is used. 
This function is called from the <a class="reference internal" href="#DataTools.DataTools.QQPlot" title="DataTools.DataTools.QQPlot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">QQPlot()</span></code></a> function.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="DataTools.DataTools.getNormalDistribution">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">DataTools.</span></span><span class="sig-name descname"><span class="pre">getNormalDistribution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#DataTools.DataTools.getNormalDistribution" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mu</strong> (<em>float</em>) – the average values of the data values.</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – the standard deviation of the data values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the equally separated x values along the gaussian distribution and the corresponding values of a pure normal distribution.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list [float], list [float]</p>
</dd>
</dl>
<p><strong>Description:</strong>
Calculate the gaussian normal distribution curve N (mu,sigma) between -5 x sigma and +5 x sigma at stepsize 0.05 x sigma.
This function calls the <a class="reference internal" href="#DataTools.DataTools.getNormalDistributionValue" title="DataTools.DataTools.getNormalDistributionValue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getNormalDistributionValue()</span></code></a> function and it is called by the <a class="reference internal" href="#DataTools.DataTools.getCumulativeNormalDistribution" title="DataTools.DataTools.getCumulativeNormalDistribution"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getCumulativeNormalDistribution()</span></code></a> function.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="DataTools.DataTools.getNormalDistributionValue">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">DataTools.</span></span><span class="sig-name descname"><span class="pre">getNormalDistributionValue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#DataTools.DataTools.getNormalDistributionValue" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xi</strong> (<em>float</em>) – the x-value to calculate the normal distribution value for.</p></li>
<li><p><strong>mu</strong> (<em>float</em>) – the average values of the data values.</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – the standard deviation of the data values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the normal distribution value for the point x-i in the normal distribution with average mu and standard deviation sigma.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p><strong>Description:</strong>
The value of the gaussian normal distribution defined by N (mu, sigma) at xi.
This function is called by the <a class="reference internal" href="#DataTools.DataTools.getNormalDistribution" title="DataTools.DataTools.getNormalDistribution"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getNormalDistribution()</span></code></a> function.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="DataTools.DataTools.getAverageVarAndSDPYtoCPP">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">DataTools.</span></span><span class="sig-name descname"><span class="pre">getAverageVarAndSDPYtoCPP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataValues</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">removeNaN</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#DataTools.DataTools.getAverageVarAndSDPYtoCPP" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataValues</strong> (<em>list</em><em> [</em><em>float</em><em>] or </em><em>NumPy array</em><em> (</em><em>one dimension</em><em>)</em>) – list of data values.</p></li>
<li><p><strong>removeNaN</strong> (<em>bool</em>) – if True then remove any NaN values from the list of data values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>average, standard deviation and variance of the list of data values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float, float, float.</p>
</dd>
</dl>
<p><strong>Description:</strong>
Calculate the average, standard deviation and variance of the list of data values using C++ code.   
If <code class="code docutils literal notranslate"><span class="pre">removeNaN</span> <span class="pre">=</span> <span class="pre">True</span></code>, then call the <a class="reference internal" href="#DataTools.DataTools.getNanFreeNumpyArray" title="DataTools.DataTools.getNanFreeNumpyArray"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getNanFreeNumpyArray()</span></code></a> function to remove any NaN values from the data list.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="DataTools.DataTools.getMedianAndQuantilesPYtoCPP">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">DataTools.</span></span><span class="sig-name descname"><span class="pre">getMedianAndQuantilesPYtoCPP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataValues</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lowerQuantilePercentage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upperQuantilePercentage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">75</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">removeNaN</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uncertainties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numberOfUncertaintyExperiments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#DataTools.DataTools.getMedianAndQuantilesPYtoCPP" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataValues</strong> (<em>list</em><em> [</em><em>float</em><em>] or </em><em>NumPy array</em><em> (</em><em>one dimension</em><em>)</em>) – list of data values.</p></li>
<li><p><strong>lowerQuantilePercentage</strong> (<em>float</em>) – the lower quantile.</p></li>
<li><p><strong>upperQuantilePercentage</strong> (<em>float</em>) – the upper quantile.</p></li>
<li><p><strong>removeNaN</strong> (<em>bool</em>) – if True then remove any NaN values from the list of data values.</p></li>
<li><p><strong>uncertainties</strong> (<em>list</em><em> [</em><em>float</em><em>] or </em><em>NumPy array</em><em> (</em><em>one dimension</em><em>)</em>) – list of uncertainties for each data point.</p></li>
<li><p><strong>numberOfUncertaintyExperiments</strong> (<em>int</em>) – number of experiments to perform to create gaussian-randomised dataValues for the determination of the uncertainty in the median.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>median, lower and upper quantile as defined by lowerQuantilePercentage and upperQuantilePercentage, uncertainty in the median.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float, float, float, float</p>
</dd>
</dl>
<p><strong>Description:</strong>
Calculate the median, lower and upper quantiles of the list of data values using C++ code.   
If <code class="code docutils literal notranslate"><span class="pre">removeNaN</span> <span class="pre">=</span> <span class="pre">True</span></code>, then call the <a class="reference internal" href="#DataTools.DataTools.getNanFreeNumpyArray" title="DataTools.DataTools.getNanFreeNumpyArray"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getNanFreeNumpyArray()</span></code></a> function to remove any NaN values from the data list.</p>
<p>If there are uncertainties associated with the data values, then the uncertainty in the median can be estimated from running a number of experiments. In each experiment, a new set of data values is created from the original set by adding random gaussian noise (using the NumPy random.normal method) with a standard deviation equal to the uncertainty in each data value. The medians of these experiments are collected and at the end, the standard deviation of these medians is returned. This value can be considered a good approximation of the uncertainty in the median of the original set due to the uncertainties in the data values. The default number of experiments is 1000, and this is only done if the uncertainties in the data values are passed as a list to the <code class="code docutils literal notranslate"><span class="pre">uncertainties</span></code> variable.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="DataTools.DataTools.getNanFreeNumpyArray">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">DataTools.</span></span><span class="sig-name descname"><span class="pre">getNanFreeNumpyArray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataValues</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replaceWithValue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valueToReplace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#DataTools.DataTools.getNanFreeNumpyArray" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataValues</strong> (<em>list</em><em> [</em><em>float</em><em>] or </em><em>NumPy array</em><em> (</em><em>one dimension</em><em>)</em>) – complete list of data values.</p></li>
<li><p><strong>replaceWithValue</strong> (<em>bool</em>) – replace NaN element with zero value if <code class="code docutils literal notranslate"><span class="pre">True</span></code>, default <code class="code docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>valueToReplace</strong> (<em>float</em>) – value to replace NaN elements if <code class="code docutils literal notranslate"><span class="pre">replaceWithZero</span> <span class="pre">==</span> <span class="pre">True</span></code>, default = 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of data values with any NaN values removed or replaced with <code class="code docutils literal notranslate"><span class="pre">valueToReplace</span></code>. value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>NumPy array</p>
</dd>
</dl>
<p><strong>Description:</strong>
Remove or replace with zero values all the NaN values from a list of data values and return the cleansed list as a NumPy array (one dimension).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="DataTools.DataTools.getDataValuesWithGaussianNoise">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">DataTools.</span></span><span class="sig-name descname"><span class="pre">getDataValuesWithGaussianNoise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataValues</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uncertainties</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#DataTools.DataTools.getDataValuesWithGaussianNoise" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataValues</strong> (<em>list</em><em> [</em><em>float</em><em>] or </em><em>NumPy array</em><em> (</em><em>one dimension</em><em>)</em>) – complete list of data values.</p></li>
<li><p><strong>uncertainties</strong> (<em>list</em><em> [</em><em>float</em><em>] or </em><em>NumPy array</em><em> (</em><em>one dimension</em><em>)</em>) – list of uncertainties for each data point.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of data values with random Gaussian noise added.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>NumPy array</p>
</dd>
</dl>
<p><strong>Description:</strong>
Add Gaussian noise to a list of data values using the NumPy random.normal method. The user-provided uncertainty values for each data value are fed
into the np.random.normal method as the standard deviation of the normal distribution with mean value the data value.</p>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="handytools.html" class="btn btn-neutral float-left" title="HandyTools" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .
      <span class="lastupdated">Last updated on Nov 04, 2024, 2:53:42 PM.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>